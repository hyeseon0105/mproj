<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>TTS 테스트 (Whisper)</title>
</head>
<body>
  <h2>텍스트 → 음성 변환 (TTS) 테스트</h2>
  <input type="text" id="ttsText" placeholder="여기에 텍스트를 입력하세요" size="40">
  <button onclick="convertTTS()">음성 변환</button>
  <br><br>
  <audio id="audioPlayer" controls style="display:none;"></audio>
  <div id="result"></div>
  <script>
    async function convertTTS() {
      const text = document.getElementById('ttsText').value;
      if (!text) {
        alert('텍스트를 입력하세요!');
        return;
      }
      document.getElementById('result').innerText = '변환 중...';
      document.getElementById('audioPlayer').style.display = 'none';
      try {
        const res = await fetch('http://localhost:5050/tts?text=' + encodeURIComponent(text));
        const data = await res.json();
        if (data.audio_url) {
          const fullAudioUrl = 'http://localhost:5050' + data.audio_url;
          console.log('오디오 URL:', fullAudioUrl);
          document.getElementById('audioPlayer').src = fullAudioUrl;
          document.getElementById('audioPlayer').style.display = 'block';
          document.getElementById('result').innerText = '변환 완료!';
        } else {
          document.getElementById('result').innerText = '오류: ' + (data.error || '알 수 없음');
        }
      } catch (e) {
        document.getElementById('result').innerText = '오류: ' + e;
      }
    }
  </script>
</body>
</html> 